{"version":3,"file":"mdc-tooltip.mjs","sources":["../../../../../../src/material-experimental/mdc-tooltip/tooltip.ts","../../../../../../src/material-experimental/mdc-tooltip/tooltip.html","../../../../../../src/material-experimental/mdc-tooltip/tooltip-animations.ts","../../../../../../src/material-experimental/mdc-tooltip/module.ts","../../../../../../src/material-experimental/mdc-tooltip/public-api.ts","../../../../../../src/material-experimental/mdc-tooltip/index.ts","../../../../../../src/material-experimental/mdc-tooltip/mdc-tooltip_public_index.ts"],"sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Directive,\n  ElementRef,\n  Inject,\n  NgZone,\n  Optional,\n  ViewChild,\n  ViewContainerRef,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {DOCUMENT} from '@angular/common';\nimport {Platform} from '@angular/cdk/platform';\nimport {ANIMATION_MODULE_TYPE} from '@angular/platform-browser/animations';\nimport {AriaDescriber, FocusMonitor} from '@angular/cdk/a11y';\nimport {Directionality} from '@angular/cdk/bidi';\nimport {ConnectedPosition, Overlay, ScrollDispatcher} from '@angular/cdk/overlay';\nimport {\n  MatTooltipDefaultOptions,\n  MAT_TOOLTIP_DEFAULT_OPTIONS,\n  MAT_TOOLTIP_SCROLL_STRATEGY,\n  _MatTooltipBase,\n  _TooltipComponentBase,\n} from '@angular/material/tooltip';\nimport {numbers} from '@material/tooltip';\n\n/**\n * CSS class that will be attached to the overlay panel.\n * @deprecated\n * @breaking-change 13.0.0 remove this variable\n */\nexport const TOOLTIP_PANEL_CLASS = 'mat-mdc-tooltip-panel';\n\n/**\n * Directive that attaches a material design tooltip to the host element. Animates the showing and\n * hiding of a tooltip provided position (defaults to below the element).\n *\n * https://material.io/design/components/tooltips.html\n */\n@Directive({\n  selector: '[matTooltip]',\n  exportAs: 'matTooltip',\n  host: {\n    'class': 'mat-mdc-tooltip-trigger',\n  },\n})\nexport class MatTooltip extends _MatTooltipBase<TooltipComponent> {\n  protected override readonly _tooltipComponent = TooltipComponent;\n  protected override readonly _cssClassPrefix = 'mat-mdc';\n\n  constructor(\n    overlay: Overlay,\n    elementRef: ElementRef<HTMLElement>,\n    scrollDispatcher: ScrollDispatcher,\n    viewContainerRef: ViewContainerRef,\n    ngZone: NgZone,\n    platform: Platform,\n    ariaDescriber: AriaDescriber,\n    focusMonitor: FocusMonitor,\n    @Inject(MAT_TOOLTIP_SCROLL_STRATEGY) scrollStrategy: any,\n    @Optional() dir: Directionality,\n    @Optional() @Inject(MAT_TOOLTIP_DEFAULT_OPTIONS) defaultOptions: MatTooltipDefaultOptions,\n    @Inject(DOCUMENT) _document: any,\n  ) {\n    super(\n      overlay,\n      elementRef,\n      scrollDispatcher,\n      viewContainerRef,\n      ngZone,\n      platform,\n      ariaDescriber,\n      focusMonitor,\n      scrollStrategy,\n      dir,\n      defaultOptions,\n      _document,\n    );\n    this._viewportMargin = numbers.MIN_VIEWPORT_TOOLTIP_THRESHOLD;\n  }\n\n  protected override _addOffset(position: ConnectedPosition): ConnectedPosition {\n    const offset = numbers.UNBOUNDED_ANCHOR_GAP;\n    const isLtr = !this._dir || this._dir.value == 'ltr';\n\n    if (position.originY === 'top') {\n      position.offsetY = -offset;\n    } else if (position.originY === 'bottom') {\n      position.offsetY = offset;\n    } else if (position.originX === 'start') {\n      position.offsetX = isLtr ? -offset : offset;\n    } else if (position.originX === 'end') {\n      position.offsetX = isLtr ? offset : -offset;\n    }\n\n    return position;\n  }\n}\n\n/**\n * Internal component that wraps the tooltip's content.\n * @docs-private\n */\n@Component({\n  selector: 'mat-tooltip-component',\n  templateUrl: 'tooltip.html',\n  styleUrls: ['tooltip.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    // Forces the element to have a layout in IE and Edge. This fixes issues where the element\n    // won't be rendered if the animations are disabled or there is no web animations polyfill.\n    '[style.zoom]': 'isVisible() ? 1 : null',\n    '(mouseleave)': '_handleMouseLeave($event)',\n    'aria-hidden': 'true',\n  },\n})\nexport class TooltipComponent extends _TooltipComponentBase {\n  /* Whether the tooltip text overflows to multiple lines */\n  _isMultiline = false;\n\n  /** Reference to the internal tooltip element. */\n  @ViewChild('tooltip', {\n    // Use a static query here since we interact directly with\n    // the DOM which can happen before `ngAfterViewInit`.\n    static: true,\n  })\n  _tooltip: ElementRef<HTMLElement>;\n  _showAnimation = 'mat-mdc-tooltip-show';\n  _hideAnimation = 'mat-mdc-tooltip-hide';\n\n  constructor(\n    changeDetectorRef: ChangeDetectorRef,\n    private _elementRef: ElementRef<HTMLElement>,\n    @Optional() @Inject(ANIMATION_MODULE_TYPE) animationMode?: string,\n  ) {\n    super(changeDetectorRef, animationMode);\n  }\n\n  protected override _onShow(): void {\n    this._isMultiline = this._isTooltipMultiline();\n    this._markForCheck();\n  }\n\n  /** Whether the tooltip text has overflown to the next line */\n  private _isTooltipMultiline() {\n    const rect = this._elementRef.nativeElement.getBoundingClientRect();\n    return rect.height > numbers.MIN_HEIGHT && rect.width >= numbers.MAX_WIDTH;\n  }\n}\n","<div\n  #tooltip\n  class=\"mdc-tooltip mdc-tooltip--shown mat-mdc-tooltip\"\n  [ngClass]=\"tooltipClass\"\n  (animationend)=\"_handleAnimationEnd($event)\"\n  [class.mdc-tooltip--multiline]=\"_isMultiline\">\n  <div class=\"mdc-tooltip__surface mdc-tooltip__surface-animation\">{{message}}</div>\n</div>\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {\n  animate,\n  AnimationTriggerMetadata,\n  state,\n  style,\n  transition,\n  trigger,\n} from '@angular/animations';\n\n/**\n * Animations used by MatTooltip.\n * @docs-private\n */\nexport const matTooltipAnimations: {\n  readonly tooltipState: AnimationTriggerMetadata;\n} = {\n  /** Animation that transitions a tooltip in and out. */\n  tooltipState: trigger('state', [\n    // TODO(crisbeto): these values are based on MDC's CSS.\n    // We should be able to use their styles directly once we land #19432.\n    state('initial, void, hidden', style({opacity: 0, transform: 'scale(0.8)'})),\n    state('visible', style({transform: 'scale(1)'})),\n    transition('* => visible', animate('150ms cubic-bezier(0, 0, 0.2, 1)')),\n    transition('* => hidden', animate('75ms cubic-bezier(0.4, 0, 1, 1)')),\n  ]),\n};\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {A11yModule} from '@angular/cdk/a11y';\nimport {OverlayModule} from '@angular/cdk/overlay';\nimport {CdkScrollableModule} from '@angular/cdk/scrolling';\nimport {MatCommonModule} from '@angular/material-experimental/mdc-core';\nimport {MAT_TOOLTIP_SCROLL_STRATEGY_FACTORY_PROVIDER} from '@angular/material/tooltip';\nimport {MatTooltip, TooltipComponent} from './tooltip';\n\n@NgModule({\n  imports: [A11yModule, CommonModule, OverlayModule, MatCommonModule],\n  exports: [MatTooltip, TooltipComponent, MatCommonModule, CdkScrollableModule],\n  declarations: [MatTooltip, TooltipComponent],\n  providers: [MAT_TOOLTIP_SCROLL_STRATEGY_FACTORY_PROVIDER],\n})\nexport class MatTooltipModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nexport * from './tooltip';\nexport * from './tooltip-animations';\nexport * from './module';\n\nexport {\n  getMatTooltipInvalidPositionError,\n  MAT_TOOLTIP_SCROLL_STRATEGY_FACTORY,\n  MAT_TOOLTIP_DEFAULT_OPTIONS_FACTORY,\n  TooltipPosition,\n  TooltipTouchGestures,\n  TooltipVisibility,\n  SCROLL_THROTTLE_MS,\n  MAT_TOOLTIP_SCROLL_STRATEGY,\n  MAT_TOOLTIP_SCROLL_STRATEGY_FACTORY_PROVIDER,\n  MatTooltipDefaultOptions,\n  MAT_TOOLTIP_DEFAULT_OPTIONS,\n} from '@angular/material/tooltip';\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nexport * from './public-api';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}
{"version":3,"file":"popover-edit.mjs","sources":["../../../../../../src/material-experimental/popover-edit/lens-directives.ts","../../../../../../src/material-experimental/popover-edit/table-directives.ts","../../../../../../src/material-experimental/popover-edit/popover-edit-module.ts"],"sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n\nimport {Directive} from '@angular/core';\n\nimport {\n  CdkEditControl,\n  CdkEditRevert,\n  CdkEditClose,\n  EditRef,\n} from '@angular/cdk-experimental/popover-edit';\n\n/**\n * A component that attaches to a form within the edit.\n * It coordinates the form state with the table-wide edit system and handles\n * closing the edit when the form is submitted or the user clicks\n * out.\n */\n@Directive({\n  selector: 'form[matEditLens]',\n  host: {\n    'class': 'mat-edit-lens',\n  },\n  inputs: [\n    {name: 'clickOutBehavior', alias: 'matEditLensClickOutBehavior'},\n    {name: 'preservedFormValue', alias: 'matEditLensPreservedFormValue'},\n    {name: 'ignoreSubmitUnlessValid', alias: 'matEditLensIgnoreSubmitUnlessValid'},\n  ],\n  outputs: ['preservedFormValueChange: matEditLensPreservedFormValueChange'],\n  providers: [EditRef],\n})\nexport class MatEditLens<FormValue> extends CdkEditControl<FormValue> {}\n\n/** Reverts the form to its initial or previously submitted state on click. */\n@Directive({\n  selector: 'button[matEditRevert]',\n  host: {\n    'type': 'button', // Prevents accidental form submits.\n  },\n})\nexport class MatEditRevert<FormValue> extends CdkEditRevert<FormValue> {}\n\n/** Closes the lens on click. */\n@Directive({\n  selector: '[matEditClose]',\n})\nexport class MatEditClose<FormValue> extends CdkEditClose<FormValue> {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\nimport {Directive} from '@angular/core';\nimport {\n  _CELL_SELECTOR,\n  _closest,\n  CdkPopoverEdit,\n  CdkPopoverEditTabOut,\n  CdkRowHoverContent,\n  CdkEditOpen,\n} from '@angular/cdk-experimental/popover-edit';\n\nconst POPOVER_EDIT_HOST_BINDINGS = {\n  '[attr.tabindex]': 'disabled ? null : 0',\n  'class': 'mat-popover-edit-cell',\n  '[attr.aria-haspopup]': '!disabled',\n};\n\nconst POPOVER_EDIT_INPUTS = [\n  {name: 'template', alias: 'matPopoverEdit'},\n  {name: 'context', alias: 'matPopoverEditContext'},\n  {name: 'colspan', alias: 'matPopoverEditColspan'},\n  {name: 'disabled', alias: 'matPopoverEditDisabled'},\n  {name: 'ariaLabel', alias: 'matPopoverEditAriaLabel'},\n];\n\nconst EDIT_PANE_CLASS = 'mat-edit-pane';\n\nconst MAT_ROW_HOVER_CLASS = 'mat-row-hover-content';\nconst MAT_ROW_HOVER_RTL_CLASS = MAT_ROW_HOVER_CLASS + '-rtl';\nconst MAT_ROW_HOVER_ANIMATE_CLASS = MAT_ROW_HOVER_CLASS + '-visible';\nconst MAT_ROW_HOVER_CELL_CLASS = MAT_ROW_HOVER_CLASS + '-host-cell';\n\n/**\n * Attaches an ng-template to a cell and shows it when instructed to by the\n * EditEventDispatcher service.\n * Makes the cell focusable.\n */\n@Directive({\n  selector: '[matPopoverEdit]:not([matPopoverEditTabOut])',\n  host: POPOVER_EDIT_HOST_BINDINGS,\n  inputs: POPOVER_EDIT_INPUTS,\n})\nexport class MatPopoverEdit<C> extends CdkPopoverEdit<C> {\n  protected override panelClass(): string {\n    return EDIT_PANE_CLASS;\n  }\n}\n\n/**\n * Attaches an ng-template to a cell and shows it when instructed to by the\n * EditEventDispatcher service.\n * Makes the cell focusable.\n */\n@Directive({\n  selector: '[matPopoverEdit][matPopoverEditTabOut]',\n  host: POPOVER_EDIT_HOST_BINDINGS,\n  inputs: POPOVER_EDIT_INPUTS,\n})\nexport class MatPopoverEditTabOut<C> extends CdkPopoverEditTabOut<C> {\n  protected override panelClass(): string {\n    return EDIT_PANE_CLASS;\n  }\n}\n\n/**\n * A structural directive that shows its contents when the table row containing\n * it is hovered or when an element in the row has focus.\n */\n@Directive({\n  selector: '[matRowHoverContent]',\n})\nexport class MatRowHoverContent extends CdkRowHoverContent {\n  protected override initElement(element: HTMLElement) {\n    super.initElement(element);\n    element.classList.add(MAT_ROW_HOVER_CLASS);\n  }\n\n  protected override makeElementHiddenButFocusable(element: HTMLElement): void {\n    element.classList.remove(MAT_ROW_HOVER_ANIMATE_CLASS);\n  }\n\n  protected override makeElementVisible(element: HTMLElement): void {\n    _closest(this.elementRef.nativeElement!, _CELL_SELECTOR)!.classList.add(\n      MAT_ROW_HOVER_CELL_CLASS,\n    );\n\n    if (this.services.directionality.value === 'rtl') {\n      element.classList.add(MAT_ROW_HOVER_RTL_CLASS);\n    } else {\n      element.classList.remove(MAT_ROW_HOVER_RTL_CLASS);\n    }\n\n    element.classList.remove(MAT_ROW_HOVER_ANIMATE_CLASS);\n    this.services.ngZone.runOutsideAngular(() => {\n      setTimeout(() => {\n        element.classList.add(MAT_ROW_HOVER_ANIMATE_CLASS);\n      });\n    });\n  }\n}\n\n/**\n * Opens the closest edit popover to this element, whether it's associated with this exact\n * element or an ancestor element.\n */\n@Directive({\n  selector: '[matEditOpen]',\n})\nexport class MatEditOpen extends CdkEditOpen {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n\nimport {NgModule} from '@angular/core';\nimport {MatCommonModule} from '@angular/material/core';\nimport {CdkEditable, CdkPopoverEditModule} from '@angular/cdk-experimental/popover-edit';\nimport {\n  MatPopoverEdit,\n  MatPopoverEditTabOut,\n  MatRowHoverContent,\n  MatEditOpen,\n} from './table-directives';\nimport {MatEditLens, MatEditRevert, MatEditClose} from './lens-directives';\n\n@NgModule({\n  imports: [\n    CdkPopoverEditModule,\n    MatCommonModule,\n    MatPopoverEdit,\n    MatPopoverEditTabOut,\n    MatRowHoverContent,\n    MatEditLens,\n    MatEditRevert,\n    MatEditClose,\n    MatEditOpen,\n  ],\n  exports: [\n    MatPopoverEdit,\n    MatPopoverEditTabOut,\n    MatRowHoverContent,\n    MatEditLens,\n    MatEditRevert,\n    MatEditClose,\n    MatEditOpen,\n    CdkEditable,\n  ],\n})\nexport class MatPopoverEditModule {}\n"],"names":[],"mappings":"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"}
{"version":3,"file":"popover-edit.mjs","sources":["../../../../../../src/material-experimental/popover-edit/lens-directives.ts","../../../../../../src/material-experimental/popover-edit/table-directives.ts","../../../../../../src/material-experimental/popover-edit/popover-edit-module.ts","../../../../../../src/material-experimental/popover-edit/public-api.ts","../../../../../../src/material-experimental/popover-edit/index.ts","../../../../../../src/material-experimental/popover-edit/popover-edit_public_index.ts"],"sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive} from '@angular/core';\n\nimport {\n  CdkEditControl,\n  CdkEditRevert,\n  CdkEditClose,\n  EditRef,\n} from '@angular/cdk-experimental/popover-edit';\n\n/**\n * A component that attaches to a form within the edit.\n * It coordinates the form state with the table-wide edit system and handles\n * closing the edit when the form is submitted or the user clicks\n * out.\n */\n@Directive({\n  selector: 'form[matEditLens]',\n  host: {\n    'class': 'mat-edit-lens',\n  },\n  inputs: [\n    'clickOutBehavior: matEditLensClickOutBehavior',\n    'preservedFormValue: matEditLensPreservedFormValue',\n    'ignoreSubmitUnlessValid: matEditLensIgnoreSubmitUnlessValid',\n  ],\n  outputs: ['preservedFormValueChange: matEditLensPreservedFormValueChange'],\n  providers: [EditRef],\n})\nexport class MatEditLens<FormValue> extends CdkEditControl<FormValue> {}\n\n/** Reverts the form to its initial or previously submitted state on click. */\n@Directive({\n  selector: 'button[matEditRevert]',\n  host: {\n    'type': 'button', // Prevents accidental form submits.\n  },\n})\nexport class MatEditRevert<FormValue> extends CdkEditRevert<FormValue> {}\n\n/** Closes the lens on click. */\n@Directive({selector: '[matEditClose]'})\nexport class MatEditClose<FormValue> extends CdkEditClose<FormValue> {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {Directive} from '@angular/core';\nimport {\n  _CELL_SELECTOR,\n  _closest,\n  CdkPopoverEdit,\n  CdkPopoverEditTabOut,\n  CdkRowHoverContent,\n  CdkEditOpen,\n} from '@angular/cdk-experimental/popover-edit';\n\nconst POPOVER_EDIT_HOST_BINDINGS = {\n  '[attr.tabindex]': 'disabled ? null : 0',\n  'class': 'mat-popover-edit-cell',\n  '[attr.aria-haspopup]': '!disabled',\n};\n\nconst POPOVER_EDIT_INPUTS = [\n  'template: matPopoverEdit',\n  'context: matPopoverEditContext',\n  'colspan: matPopoverEditColspan',\n  'disabled: matPopoverEditDisabled',\n];\n\nconst EDIT_PANE_CLASS = 'mat-edit-pane';\n\nconst MAT_ROW_HOVER_CLASS = 'mat-row-hover-content';\nconst MAT_ROW_HOVER_RTL_CLASS = MAT_ROW_HOVER_CLASS + '-rtl';\nconst MAT_ROW_HOVER_ANIMATE_CLASS = MAT_ROW_HOVER_CLASS + '-visible';\nconst MAT_ROW_HOVER_CELL_CLASS = MAT_ROW_HOVER_CLASS + '-host-cell';\n\n/**\n * Attaches an ng-template to a cell and shows it when instructed to by the\n * EditEventDispatcher service.\n * Makes the cell focusable.\n */\n@Directive({\n  selector: '[matPopoverEdit]:not([matPopoverEditTabOut])',\n  host: POPOVER_EDIT_HOST_BINDINGS,\n  inputs: POPOVER_EDIT_INPUTS,\n})\nexport class MatPopoverEdit<C> extends CdkPopoverEdit<C> {\n  protected override panelClass(): string {\n    return EDIT_PANE_CLASS;\n  }\n}\n\n/**\n * Attaches an ng-template to a cell and shows it when instructed to by the\n * EditEventDispatcher service.\n * Makes the cell focusable.\n */\n@Directive({\n  selector: '[matPopoverEdit][matPopoverEditTabOut]',\n  host: POPOVER_EDIT_HOST_BINDINGS,\n  inputs: POPOVER_EDIT_INPUTS,\n})\nexport class MatPopoverEditTabOut<C> extends CdkPopoverEditTabOut<C> {\n  protected override panelClass(): string {\n    return EDIT_PANE_CLASS;\n  }\n}\n\n/**\n * A structural directive that shows its contents when the table row containing\n * it is hovered or when an element in the row has focus.\n */\n@Directive({\n  selector: '[matRowHoverContent]',\n})\nexport class MatRowHoverContent extends CdkRowHoverContent {\n  protected override initElement(element: HTMLElement) {\n    super.initElement(element);\n    element.classList.add(MAT_ROW_HOVER_CLASS);\n  }\n\n  protected override makeElementHiddenButFocusable(element: HTMLElement): void {\n    element.classList.remove(MAT_ROW_HOVER_ANIMATE_CLASS);\n  }\n\n  protected override makeElementVisible(element: HTMLElement): void {\n    _closest(this.elementRef.nativeElement!, _CELL_SELECTOR)!.classList.add(\n      MAT_ROW_HOVER_CELL_CLASS,\n    );\n\n    if (this.services.directionality.value === 'rtl') {\n      element.classList.add(MAT_ROW_HOVER_RTL_CLASS);\n    } else {\n      element.classList.remove(MAT_ROW_HOVER_RTL_CLASS);\n    }\n\n    element.classList.remove(MAT_ROW_HOVER_ANIMATE_CLASS);\n    this.services.ngZone.runOutsideAngular(() => {\n      setTimeout(() => {\n        element.classList.add(MAT_ROW_HOVER_ANIMATE_CLASS);\n      });\n    });\n  }\n}\n\n/**\n * Opens the closest edit popover to this element, whether it's associated with this exact\n * element or an ancestor element.\n */\n@Directive({\n  selector: '[matEditOpen]',\n})\nexport class MatEditOpen extends CdkEditOpen {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgModule} from '@angular/core';\nimport {MatCommonModule} from '@angular/material/core';\nimport {CdkEditable, CdkPopoverEditModule} from '@angular/cdk-experimental/popover-edit';\nimport {\n  MatPopoverEdit,\n  MatPopoverEditTabOut,\n  MatRowHoverContent,\n  MatEditOpen,\n} from './table-directives';\nimport {MatEditLens, MatEditRevert, MatEditClose} from './lens-directives';\n\n@NgModule({\n  imports: [CdkPopoverEditModule, MatCommonModule],\n  exports: [\n    MatPopoverEdit,\n    MatPopoverEditTabOut,\n    MatRowHoverContent,\n    MatEditLens,\n    MatEditRevert,\n    MatEditClose,\n    MatEditOpen,\n    CdkEditable,\n  ],\n  declarations: [\n    MatPopoverEdit,\n    MatPopoverEditTabOut,\n    MatRowHoverContent,\n    MatEditLens,\n    MatEditRevert,\n    MatEditClose,\n    MatEditOpen,\n  ],\n})\nexport class MatPopoverEditModule {}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nexport * from './lens-directives';\nexport * from './popover-edit-module';\nexport * from './table-directives';\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nexport * from './public-api';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}